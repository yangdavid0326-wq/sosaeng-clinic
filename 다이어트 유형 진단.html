<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI ë‹¤ì´ì–´íŠ¸ ìœ í˜• ì§„ë‹¨ - ì†Œìƒí•œì˜ì›</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;600;700&display=swap');
        
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .container {
            width: 100%;
            max-width: 900px;
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #2F4F4F 0%, #1a3a3a 100%);
            color: white;
            padding: 40px 20px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2rem;
            margin-bottom: 10px;
        }
        
        .content {
            padding: 40px 20px;
            min-height: 500px;
        }
        
        .screen {
            display: none;
        }
        
        .screen.active {
            display: block;
            animation: fadeIn 0.3s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .start-screen {
            text-align: center;
        }
        
        .start-screen h2 {
            font-size: 1.5rem;
            margin-bottom: 30px;
            color: #1F2937;
        }
        
        .btn-group {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 15px 40px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Noto Sans KR', sans-serif;
        }
        
        .btn-primary {
            background: #2F4F4F;
            color: white;
        }
        
        .btn-primary:hover {
            background: #1a3a3a;
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }
        
        .btn-secondary {
            background: #3B82F6;
            color: white;
        }
        
        .btn-secondary:hover {
            background: #2563eb;
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }
        
        .quiz-screen h2 {
            text-align: center;
            color: #1F2937;
            margin-bottom: 20px;
        }
        
        .progress-bar {
            width: 100%;
            height: 8px;
            background: #E5E7EB;
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #3B82F6, #10B981);
            transition: width 0.3s ease;
        }
        
        .question-text {
            font-size: 1.2rem;
            color: #1F2937;
            margin: 25px 0;
            font-weight: 600;
            text-align: center;
        }
        
        .answer-options {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin: 20px 0;
        }
        
        .answer-btn {
            padding: 18px 20px;
            background: #F3F4F6;
            border: 2px solid #E5E7EB;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
            font-family: 'Noto Sans KR', sans-serif;
            font-weight: 500;
        }
        
        .answer-btn:hover {
            background: #E0E7FF;
            border-color: #3B82F6;
            transform: translateY(-2px);
        }
        
        .answer-btn.selected {
            background: #3B82F6;
            color: white;
            border-color: #3B82F6;
        }
        
        /* ê²°ê³¼ í˜ì´ì§€ ìŠ¤íƒ€ì¼ */
        .result-header {
            background: linear-gradient(135deg, #3B82F6 0%, #10B981 100%);
            color: white;
            padding: 50px 30px;
            border-radius: 12px;
            margin: 0 0 40px 0;
            text-align: center;
            box-shadow: 0 10px 30px rgba(59, 130, 246, 0.3);
        }
        
        .result-header h2 {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 15px;
            text-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .result-header p {
            font-size: 1.1rem;
            opacity: 0.95;
            letter-spacing: 0.5px;
        }
        
        .score-breakdown {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 30px 0;
            padding: 20px 0;
            border-top: 1px solid rgba(255,255,255,0.2);
            border-bottom: 1px solid rgba(255,255,255,0.2);
        }
        
        .score-item {
            text-align: center;
            padding: 15px;
            background: rgba(255,255,255,0.1);
            border-radius: 8px;
        }
        
        .score-item .label {
            font-size: 0.9rem;
            opacity: 0.85;
            margin-bottom: 8px;
        }
        
        .score-item .value {
            font-size: 1.8rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
        }
        
        .prescription-section {
            margin: 40px 0;
        }
        
        .prescription-main {
            background: linear-gradient(135deg, #F0F7FF 0%, #F5FFFA 100%);
            border: 2px solid #3B82F6;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.12);
        }
        
        .prescription-main h3 {
            font-size: 1.8rem;
            font-weight: 700;
            color: #1F2937;
            margin-bottom: 12px;
        }
        
        .prescription-main p {
            font-size: 1rem;
            color: #6B7280;
            line-height: 1.8;
            margin: 0;
        }
        
        .prescription-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: #1F2937;
            margin-bottom: 25px;
            text-align: center;
        }
        
        .prescription-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .prescription-card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            border: 2px solid #E5E7EB;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .prescription-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #3B82F6, #10B981);
        }
        
        .prescription-card.emphasized {
            border-color: #3B82F6;
            background: linear-gradient(135deg, #F0F7FF 0%, #F5FFFA 100%);
            box-shadow: 0 8px 20px rgba(59, 130, 246, 0.15);
        }
        
        .prescription-card.emphasized::before {
            background: linear-gradient(90deg, #FF6B6B, #FFD93D);
            height: 5px;
        }
        
        .prescription-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
            display: inline-block;
        }
        
        .prescription-card h3 {
            font-size: 1.1rem;
            font-weight: 600;
            color: #1F2937;
            margin-bottom: 12px;
        }
        
        .prescription-card p {
            font-size: 0.95rem;
            color: #6B7280;
            line-height: 1.6;
            margin: 0;
        }
        
        .disclaimer {
            text-align: center;
            font-size: 0.85rem;
            color: #9CA3AF;
            margin: 30px 0;
            padding: 15px;
            background: #F9FAFB;
            border-radius: 8px;
            border-left: 3px solid #3B82F6;
        }
        
        .action-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 30px;
        }
        
        .btn-appointment {
            padding: 15px 35px;
            background: #2F4F4F;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn-appointment:hover {
            background: #1a3a3a;
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }
        
        .btn-retry {
            padding: 15px 35px;
            background: #F3F4F6;
            color: #1F2937;
            border: 2px solid #E5E7EB;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn-retry:hover {
            background: #E5E7EB;
            border-color: #9CA3AF;
        }
        
        @media (max-width: 600px) {
            .result-header h2 {
                font-size: 2rem;
            }
            .prescription-cards {
                grid-template-columns: 1fr;
            }
            .btn-appointment, .btn-retry {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¯ ë‚˜ë§Œì„ ìœ„í•œ ë§ì¶¤ ë‹¤ì´ì–´íŠ¸ ì„¤ê³„</h1>
            <p>ë‹¹ì‹ ì˜ ë§ì¶¤í˜• ë‹¤ì´ì–´íŠ¸ ìœ í˜• ë¶„ì„</p>
        </div>
        
        <div class="content">
            <!-- ì‹œì‘ í™”ë©´ -->
            <div class="screen active" id="screen-start">
                <div class="start-screen">
                    <h2>ë‹¨ 1ë¶„, ë‹¹ì‹ ì´ ì‚´ì°ŒëŠ” ì§„ì§œ ì›ì¸ì„ ì°¾ì•„ë³´ì„¸ìš”.</h2>
                    <div class="btn-group">
                        <button class="btn btn-primary" onclick="startDietQuiz()">ì‚´ì°ŒëŠ” ìœ í˜•ë¶„ì„ ì‹œì‘í•˜ê¸°</button>
                    </div>
                </div>
            </div>
            
            <!-- ë‹¤ì´ì–´íŠ¸ ìœ í˜• ì§„ë‹¨ í™”ë©´ -->
            <div class="screen" id="screen-diet-quiz">
                <div class="quiz-screen">
                    <h2>ë‹¤ì´ì–´íŠ¸ ìœ í˜• ì§„ë‹¨</h2>
                    <div class="progress-bar">
                        <div class="progress-fill" id="dietProgress"></div>
                    </div>
                    <p style="color: #6B7280; font-size: 0.9rem; text-align: center;" id="dietCount"></p>
                    <div class="question-text" id="dietQuestion"></div>
                    <div class="answer-options" id="dietAnswers"></div>
                </div>
            </div>
            
            <!-- ìµœì¢… ê²°ê³¼ í™”ë©´ -->
            <div class="screen" id="screen-result">
                <div class="result-header">
                    <h2 id="resultType"></h2>
                    <p>ë‹¹ì‹ ì˜ ë§ì¶¤í˜• ë‹¤ì´ì–´íŠ¸ ìœ í˜•</p>
                    <div class="score-breakdown" id="scoreBreakdown"></div>
                </div>
                
                <div class="prescription-section">
                    <h3 class="prescription-title">ë‹¹ì‹ ì„ ìœ„í•œ ì†Œìƒ ë‹¤ì´ì–´íŠ¸ ì²˜ë°©</h3>
                    <div class="prescription-cards" id="prescriptionCards"></div>
                </div>
                
                <div class="disclaimer">
                    ğŸ’¡ ê°œì¸ë³„ ì²´ì§ˆì— ë”°ë¼ ì²˜ë°©ì´ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì •í™•í•œ ì§„ë‹¨ì„ ìœ„í•´ ì „ë¬¸ê°€ ìƒë‹´ì„ ê¶Œì¥í•©ë‹ˆë‹¤.
                </div>
                
                <div class="action-buttons">
                    <button class="btn-appointment" onclick="openAppointment()">â˜ï¸ ìƒë‹´ ì˜ˆì•½í•˜ê¸°</button>
                    <button class="btn-retry" onclick="resetTest()">ğŸ”„ ë‹¤ì‹œ ì§„ë‹¨</button>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        let dietAnswers = [];
        let dietQuestionIndex = 0;
        let dietScores = {
            "ëŒ€ì‚¬ì €í•˜í˜•": 0,
            "ë¶€ì¢…ìˆœí™˜í˜•": 0,
            "ìŠ¤íŠ¸ë ˆìŠ¤í­ì‹í˜•": 0,
            "ê·¼ìœ¡ë¶€ì¡±í˜•": 0,
            "í˜¸ë¥´ëª¬ë¶ˆê· í˜•í˜•": 0
        };
        
        const dietTypeQuestions = [
            {
                question: "í‰ì†Œ ì‹ì‚¬ ìŠµê´€ì€ ì–´ë–¤ê°€ìš”?",
                answers: [
                    { text: "ì²œì²œíˆ ë§ì´ ë¨¹ëŠ” í¸", type: "ëŒ€ì‚¬ì €í•˜í˜•" },
                    { text: "ë°°ê³ í””ì„ ëª» ì°¸ê³  ê¸‰í•˜ê²Œ ë¨¹ëŠ”ë‹¤", type: "ìŠ¤íŠ¸ë ˆìŠ¤í­ì‹í˜•" },
                    { text: "ì…ì´ ì§§ê³  ì¡°ê¸ˆë§Œ ë¨¹ì–´ë„ ë°°ë¶€ë¥´ë‹¤", type: "ë¶€ì¢…ìˆœí™˜í˜•" },
                    { text: "ê·œì¹™ì ìœ¼ë¡œ ê³¨ê³ ë£¨ ë¨¹ëŠ” í¸", type: "ê·¼ìœ¡ë¶€ì¡±í˜•" },
                    { text: "ë¶ˆê·œì¹™ì ìœ¼ë¡œ ë¨¹ëŠ”ë‹¤", type: "í˜¸ë¥´ëª¬ë¶ˆê· í˜•í˜•" }
                ]
            },
            {
                question: "ì•„ì¹¨ê³¼ ì €ë…, ëª¸ì´ ë¶“ëŠ” ì •ë„ëŠ” ì–´ë– ì‹ ê°€ìš”?",
                answers: [
                    { text: "í•­ìƒ ëª¸ì´ ë¬´ê²ê³  ì „ì‹ ì´ ì˜ ë¶“ëŠ”ë‹¤", type: "ëŒ€ì‚¬ì €í•˜í˜•" },
                    { text: "ì €ë…ì´ë©´ ë‹¤ë¦¬ê°€ ë¶“ê³  ì‹ ë°œì´ ê½‰ ë¼ì¸ë‹¤", type: "ë¶€ì¢…ìˆœí™˜í˜•" },
                    { text: "ìŠ¤íŠ¸ë ˆìŠ¤ ë°›ì€ ë‚ ì€ ìœ ë… ë§ì´ ë¶€ëŠ” í¸", type: "ìŠ¤íŠ¸ë ˆìŠ¤í­ì‹í˜•" },
                    { text: "íŠ¹ì • ë¶€ìœ„(ë³µë¶€, íŒ”)ë§Œ ì‚´ì´ ë¶™ëŠ”ë‹¤", type: "ê·¼ìœ¡ë¶€ì¡±í˜•" },
                    { text: "ë¶“ê¸°ê°€ ë¶ˆê·œì¹™ì ìœ¼ë¡œ ì™”ë‹¤ê°”ë‹¤í•œë‹¤", type: "í˜¸ë¥´ëª¬ë¶ˆê· í˜•í˜•" }
                ]
            },
            {
                question: "ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ë°›ìœ¼ë©´ ìŒì‹ ë°˜ì‘ì´ ì–´ë–¤ê°€ìš”?",
                answers: [
                    { text: "ê¸°ìš´ì´ ì—†ì–´ì ¸ ë³´ì–‘ì‹ì„ ì°¾ëŠ”ë‹¤", type: "ëŒ€ì‚¬ì €í•˜í˜•" },
                    { text: "ì§œì¦ë‚˜ë©° ë§¤ìš´ ìŒì‹ì´ë‚˜ ìê·¹ì ì¸ ìŒì‹ì´ ë‹¹ê¸´ë‹¤", type: "ìŠ¤íŠ¸ë ˆìŠ¤í­ì‹í˜•" },
                    { text: "ì…ë§›ì´ ë–¨ì–´ì§€ê±°ë‚˜ ì²´í•œë‹¤", type: "ë¶€ì¢…ìˆœí™˜í˜•" },
                    { text: "ì‹ìš•ì—ëŠ” í° ë³€í™”ê°€ ì—†ë‹¤", type: "ê·¼ìœ¡ë¶€ì¡±í˜•" },
                    { text: "ì‹ìš•ì´ í­ë°œì ìœ¼ë¡œ ëŠ˜ì–´ë‚œë‹¤", type: "í˜¸ë¥´ëª¬ë¶ˆê· í˜•í˜•" }
                ]
            },
            {
                question: "í‰ì†Œ ì†Œí™” ëŠ¥ë ¥ì€ ì–´ë– ì‹ ê°€ìš”?",
                answers: [
                    { text: "ì†Œí™”ëŠ” ì˜ ë˜ëŠ”ë° ë¨¹ëŠ” ì¡±ì¡± ì‚´ë¡œ ê°„ë‹¤", type: "ëŒ€ì‚¬ì €í•˜í˜•" },
                    { text: "ì†Œí™”ê°€ ë¹¨ë¼ ê¸ˆë°© ë°°ê³ í””ì„ ëŠë‚€ë‹¤", type: "ìŠ¤íŠ¸ë ˆìŠ¤í­ì‹í˜•" },
                    { text: "ì†Œí™”ê°€ ì˜ ì•ˆ ë˜ê³  ìì£¼ ë”ë¶€ë£©í•˜ë‹¤", type: "ë¶€ì¢…ìˆœí™˜í˜•" },
                    { text: "ë³´í†µì´ë‚˜ ì†Œí™” í›„ ì‰½ê²Œ ì§€ì¹œë‹¤", type: "ê·¼ìœ¡ë¶€ì¡±í˜•" },
                    { text: "ì†Œí™” ëŠ¥ë ¥ì´ ì‹œê¸°ì— ë”°ë¼ ë‹¬ë¼ì§„ë‹¤", type: "í˜¸ë¥´ëª¬ë¶ˆê· í˜•í˜•" }
                ]
            },
            {
                question: "ë‹¹ì‹ ì˜ ê°€ì¥ ê³ ë¯¼ë˜ëŠ” êµ°ì‚´ ë¶€ìœ„ëŠ” ì–´ë””ì¸ê°€ìš”?",
                answers: [
                    { text: "ì „ì²´ì ìœ¼ë¡œ ë‘íˆ¼í•˜ê²Œ ë¶™ëŠ” ë‚˜ì‡ì‚´ê³¼ ë±ƒì‚´", type: "ëŒ€ì‚¬ì €í•˜í˜•" },
                    { text: "íŠ¹ì • ë¶€ìœ„(ë³µë¶€, ì˜†êµ¬ë¦¬)ì— ì§‘ì¤‘ì ìœ¼ë¡œ ë¶™ëŠ”ë‹¤", type: "ë¶€ì¢…ìˆœí™˜í˜•" },
                    { text: "ì•„ë˜ìª½(ë³µë¶€, ì—‰ë©ì´)ì— ì§‘ì¤‘ëœë‹¤", type: "ìŠ¤íŠ¸ë ˆìŠ¤í­ì‹í˜•" },
                    { text: "ì²´ì¤‘ì€ ì •ìƒì´ë‚˜ ë³µë¶€ì— ì‚´ì´ ëª°ë ¤ìˆë‹¤", type: "ê·¼ìœ¡ë¶€ì¡±í˜•" },
                    { text: "ë¶ˆê·œì¹™ì ìœ¼ë¡œ ì—¬ëŸ¬ ë¶€ìœ„ì— ìƒê¸´ë‹¤", type: "í˜¸ë¥´ëª¬ë¶ˆê· í˜•í˜•" }
                ]
            },
            {
                question: "ìš´ë™í•  ë•Œ ë˜ëŠ” í™œë™í•  ë•ŒëŠ” ì–´ë–¤ê°€ìš”?",
                answers: [
                    { text: "ê¸ˆë°© ì§€ì¹˜ê³  íœ´ì‹ì„ ìì£¼ í•„ìš”ë¡œ í•œë‹¤", type: "ëŒ€ì‚¬ì €í•˜í˜•" },
                    { text: "ì—ë„ˆì§€ê°€ ë§ì§€ë§Œ ìš´ë™ í›„ íšŒë³µì´ ëŠë¦¬ë‹¤", type: "ìŠ¤íŠ¸ë ˆìŠ¤í­ì‹í˜•" },
                    { text: "í™œë™í•˜ë©´ ì‰½ê²Œ ë¶€ì–´ì˜¤ë¥´ê±°ë‚˜ í”¼ë¡œí•´ì§„ë‹¤", type: "ë¶€ì¢…ìˆœí™˜í˜•" },
                    { text: "ì¡°ê¸ˆë§Œ ìš´ë™í•´ë„ ì‰½ê²Œ ì§€ì¹œë‹¤", type: "ê·¼ìœ¡ë¶€ì¡±í˜•" },
                    { text: "ìš´ë™ ëŠ¥ë ¥ì´ ì‹œê¸°ì— ë”°ë¼ í¬ê²Œ ë‹¬ë¼ì§„ë‹¤", type: "í˜¸ë¥´ëª¬ë¶ˆê· í˜•í˜•" }
                ]
            },
            {
                question: "í‰ì†Œ ëŠë¼ëŠ” í”¼ë¡œê°ì˜ ì¢…ë¥˜ëŠ” ë¬´ì—‡ì¸ê°€ìš”?",
                answers: [
                    { text: "ëŠ˜ ëª¸ì´ ë¬´ê²ê³  ëˆ•ê³ ë§Œ ì‹¶ì€ ë§Œì„± í”¼ë¡œ", type: "ëŒ€ì‚¬ì €í•˜í˜•" },
                    { text: "ì ì„ ë§ì´ ìë„ ê°œìš´í•˜ì§€ ì•Šë‹¤", type: "ë¶€ì¢…ìˆœí™˜í˜•" },
                    { text: "ìë‹¤ê°€ ìì£¼ ê¹¨ê³  ìˆ™ë©´ì„ ëª» í•œë‹¤", type: "ìŠ¤íŠ¸ë ˆìŠ¤í­ì‹í˜•" },
                    { text: "ìš´ë™ í›„ íšŒë³µ ì‹œê°„ì´ ê¸¸ë‹¤", type: "ê·¼ìœ¡ë¶€ì¡±í˜•" },
                    { text: "í”¼ë¡œê°ì´ ì£¼ê¸°ì ìœ¼ë¡œ ë³€í•œë‹¤", type: "í˜¸ë¥´ëª¬ë¶ˆê· í˜•í˜•" }
                ]
            },
            {
                question: "ìµœê·¼ í˜¸ë¥´ëª¬ ë³€í™”ë‚˜ ìƒí™œì˜ ê¸‰ê²©í•œ ë³€í™”ê°€ ìˆì—ˆë‚˜ìš”?",
                answers: [
                    { text: "íŠ¹ë³„í•œ ë³€í™”ëŠ” ì—†ì§€ë§Œ ì˜ˆì „ë¶€í„° ì‚´ì´ ì˜ ì°” ê±±ì •", type: "ëŒ€ì‚¬ì €í•˜í˜•" },
                    { text: "ìµœê·¼ ë¶€ì¢…ì´ ì‹¬í•´ì¡Œë‹¤", type: "ë¶€ì¢…ìˆœí™˜í˜•" },
                    { text: "ìŠ¤íŠ¸ë ˆìŠ¤ê°€ ë§ì•„ì¡Œê±°ë‚˜ ë¶ˆê·œì¹™í•œ ìƒí™œì„ í•œë‹¤", type: "ìŠ¤íŠ¸ë ˆìŠ¤í­ì‹í˜•" },
                    { text: "ê·¼ë ¥ ìš´ë™ì„ ì•ˆ í•˜ê³  ìˆë‹¤", type: "ê·¼ìœ¡ë¶€ì¡±í˜•" },
                    { text: "ê°±ë…„ê¸°, ì‚°í›„, ì›”ê²½ ë¶ˆìˆœ ë“±ì˜ ë³€í™”ê°€ ìˆë‹¤", type: "í˜¸ë¥´ëª¬ë¶ˆê· í˜•í˜•" }
                ]
            }
        ];
        
        const prescriptionContent = {
            "ëŒ€ì‚¬ì €í•˜í˜•": {
                mainTitle: "ê¸°ì´ˆëŒ€ì‚¬ëŸ‰ ì¦í­",
                mainDesc: "ì €í•˜ëœ ëŒ€ì‚¬ ê¸°ëŠ¥ì„ íšŒë³µì‹œí‚¤ëŠ” í•œì•½ ì²˜ë°©ìœ¼ë¡œ 'ì‚´ì´ ì˜ ë¹ ì§€ëŠ” ëª¸'ì„ ë§Œë“­ë‹ˆë‹¤.",
                emphasized: "ğŸ”¥ ê¸°ì´ˆëŒ€ì‚¬ ì¦í­",
                cards: [
                    {
                        icon: "ğŸ”¥",
                        title: "ê¸°ì´ˆëŒ€ì‚¬ëŸ‰ ì¦í­",
                        description: "ì €í•˜ëœ ê¸°ì´ˆëŒ€ì‚¬ëŸ‰ì„ íšŒë³µì‹œì¼œ 'ì‚´ì´ ì˜ ë¹ ì§€ëŠ” ëª¸'ì„ ë§Œë“­ë‹ˆë‹¤.",
                        emphasized: true
                    },
                    {
                        icon: "ğŸ’ª",
                        title: "ê¸°í˜ˆ ë³´ê°•",
                        description: "ì—ë„ˆì§€ ì •ì²´ë¥¼ í’€ì–´ ëª¸ ì „ì²´ì˜ ìˆœí™˜ì„ ê°œì„ í•©ë‹ˆë‹¤.",
                        emphasized: false
                    },
                    {
                        icon: "ğŸ’§",
                        title: "ë…¸íë¬¼ ë°°ì¶œ",
                        description: "ìŒ“ì¸ ë…¸íë¬¼ì„ ì œê±°í•˜ì—¬ ì²´ì¤‘ ê°ëŸ‰ì„ ë„ì›ë‹ˆë‹¤.",
                        emphasized: false
                    }
                ]
            },
            "ë¶€ì¢…ìˆœí™˜í˜•": {
                mainTitle: "ìˆœí™˜ ë° ë°°ì¶œ",
                mainDesc: "ìˆœí™˜ ì •ì²´ ë¶€ìœ„ë¥¼ íŒŒì•…í•˜ê³  ìˆ˜ë¶„ ëŒ€ì‚¬ë¥¼ ë•ëŠ” ì¹˜ë£Œë¥¼ ë³‘í–‰í•©ë‹ˆë‹¤.",
                emphasized: "ğŸ’§ ìˆœí™˜ ë° ë°°ì¶œ",
                cards: [
                    {
                        icon: "ğŸ’§",
                        title: "ìˆœí™˜ ë° ë°°ì¶œ",
                        description: "ì´ˆìŒíŒŒ ì •ë°€ ì§„ë‹¨ìœ¼ë¡œ ìˆœí™˜ ì •ì²´ ë¶€ìœ„ë¥¼ íŒŒì•…í•˜ê³  ìˆ˜ë¶„ ëŒ€ì‚¬ë¥¼ ë•ëŠ” ì¹˜ë£Œë¥¼ ë³‘í–‰í•©ë‹ˆë‹¤.",
                        emphasized: true
                    },
                    {
                        icon: "ğŸ”¥",
                        title: "ëŒ€ì‚¬ ì´‰ì§„",
                        description: "ìˆœí™˜ ê°œì„ ìœ¼ë¡œ ì‹ ì§„ëŒ€ì‚¬ë¥¼ ì •ìƒí™”í•˜ê³  ë…¸íë¬¼ ë°°ì¶œì„ ì´‰ì§„í•©ë‹ˆë‹¤.",
                        emphasized: false
                    },
                    {
                        icon: "ğŸ’ª",
                        title: "ê¸°í˜ˆ ë³´ê°•",
                        description: "í˜ˆì•¡ ìˆœí™˜ì„ ì´‰ì§„í•˜ì—¬ ë¶€ì¢…ì„ ì™„í™”í•˜ê³  ì²´ì§ˆì„ ê°œì„ í•©ë‹ˆë‹¤.",
                        emphasized: false
                    }
                ]
            },
            "ìŠ¤íŠ¸ë ˆìŠ¤í­ì‹í˜•": {
                mainTitle: "ììœ¨ì‹ ê²½ ì•ˆì •",
                mainDesc: "ìŠ¤íŠ¸ë ˆìŠ¤ë¡œ ì˜ˆë¯¼í•´ì§„ ê¸°ìš´ì„ ë‹¤ìŠ¤ë ¤ ê°€ì§œ ë°°ê³ í””ì„ ì–µì œí•˜ê³  ì‹ìš•ì„ ìì—°ìŠ¤ëŸ½ê²Œ ì¡°ì ˆí•©ë‹ˆë‹¤.",
                emphasized: "ğŸ§  ììœ¨ì‹ ê²½ ì•ˆì •",
                cards: [
                    {
                        icon: "ğŸ§ ",
                        title: "ììœ¨ì‹ ê²½ ì•ˆì •",
                        description: "ìŠ¤íŠ¸ë ˆìŠ¤ë¡œ ì˜ˆë¯¼í•´ì§„ ê¸°ìš´ì„ ë‹¤ìŠ¤ë ¤ ê°€ì§œ ë°°ê³ í””ì„ ì–µì œí•˜ê³  ì‹ìš•ì„ ìì—°ìŠ¤ëŸ½ê²Œ ì¡°ì ˆí•©ë‹ˆë‹¤.",
                        emphasized: true
                    },
                    {
                        icon: "ğŸ˜´",
                        title: "ìˆ˜ë©´ ê°œì„ ",
                        description: "í˜¸ë¥´ëª¬ ë¶ˆê· í˜•ì„ ê°œì„ í•˜ì—¬ ì§ˆ ì¢‹ì€ ìˆ˜ë©´ì„ ë•ê³  ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ì™„í™”í•©ë‹ˆë‹¤.",
                        emphasized: false
                    },
                    {
                        icon: "ğŸ’ª",
                        title: "ì‹¬ì‹  ì•ˆì •",
                        description: "ë§ˆìŒê³¼ ëª¸ì˜ ê· í˜•ì„ ë§ì¶”ì–´ ê±´ê°•í•œ ì‹ìŠµê´€ì„ íšŒë³µì‹œí‚µë‹ˆë‹¤.",
                        emphasized: false
                    }
                ]
            },
            "ê·¼ìœ¡ë¶€ì¡±í˜•": {
                mainTitle: "ê¸°í˜ˆ ë³´ê°•",
                mainDesc: "ê·¼ìœ¡ ìƒì„±ì„ ë°©í•´í•˜ëŠ” ê¸°í˜ˆ ë¶€ì¡±ì„ ì±„ìš°ê³  í•˜ì²´ ê·¼ë ¥ì„ ê°•í™”í•˜ëŠ” ë§ì¶¤ í•œì•½ì„ ì²˜ë°©í•©ë‹ˆë‹¤.",
                emphasized: "ğŸ’ª ê¸°í˜ˆ ë³´ê°•",
                cards: [
                    {
                        icon: "ğŸ’ª",
                        title: "ê¸°í˜ˆ ë³´ê°•",
                        description: "ê·¼ìœ¡ ìƒì„±ì„ ë°©í•´í•˜ëŠ” ê¸°í˜ˆ ë¶€ì¡±ì„ ì±„ìš°ê³  í•˜ì²´ ê·¼ë ¥ì„ ê°•í™”í•˜ëŠ” ë§ì¶¤ í•œì•½ì„ ì²˜ë°©í•©ë‹ˆë‹¤.",
                        emphasized: true
                    },
                    {
                        icon: "ğŸ”¥",
                        title: "ê¸°ì´ˆëŒ€ì‚¬ ì¦í­",
                        description: "ê¸°ì´ˆëŒ€ì‚¬ëŸ‰ì„ ë†’ì—¬ íœ´ì‹ ì¤‘ì—ë„ ì¹¼ë¡œë¦¬ ì†Œëª¨ë¥¼ ì¦ê°€ì‹œí‚µë‹ˆë‹¤.",
                        emphasized: false
                    },
                    {
                        icon: "ğŸ¯",
                        title: "ì²´í˜• ê°œì„ ",
                        description: "í•˜ì²´ ê·¼ë ¥ ê°•í™”ë¡œ íƒ„ë ¥ ìˆëŠ” í”¼ë¶€ì™€ ë°”ë¥¸ ì²´í˜•ì„ ë§Œë“­ë‹ˆë‹¤.",
                        emphasized: false
                    }
                ]
            },
            "í˜¸ë¥´ëª¬ë¶ˆê· í˜•í˜•": {
                mainTitle: "í˜¸ë¥´ëª¬ ë°¸ëŸ°ìŠ¤",
                mainDesc: "ê¸‰ê²©í•œ ë³€í™”ë¥¼ ê²ªëŠ” ëª¸ì˜ ê· í˜•ì„ ë§ì¶”ì–´ ê±´ê°•í•œ ì²´ì¤‘ ê°ëŸ‰ì„ ë•ìŠµë‹ˆë‹¤.",
                emphasized: "âš–ï¸ í˜¸ë¥´ëª¬ ë°¸ëŸ°ìŠ¤",
                cards: [
                    {
                        icon: "âš–ï¸",
                        title: "í˜¸ë¥´ëª¬ ë°¸ëŸ°ìŠ¤",
                        description: "ê¸‰ê²©í•œ ë³€í™”ë¥¼ ê²ªëŠ” ëª¸ì˜ ê· í˜•ì„ ë§ì¶”ì–´ ê±´ê°•í•œ ì²´ì¤‘ ê°ëŸ‰ì„ ë•ìŠµë‹ˆë‹¤.",
                        emphasized: true
                    },
                    {
                        icon: "ğŸ”„",
                        title: "ì£¼ê¸° ì•ˆì •",
                        description: "ì›”ê²½ ë¶ˆìˆœì´ë‚˜ ê°±ë…„ê¸° ì¦ìƒì„ ì™„í™”í•˜ì—¬ ëª¸ì˜ ë¦¬ë“¬ì„ íšŒë³µì‹œí‚µë‹ˆë‹¤.",
                        emphasized: false
                    },
                    {
                        icon: "ğŸ’ª",
                        title: "ì²´ì§ˆ ê°•í™”",
                        description: "ê·¼ë³¸ì ì¸ ì²´ì§ˆ ê°œì„ ìœ¼ë¡œ ê±´ê°•í•˜ê³  ì§€ì† ê°€ëŠ¥í•œ ë‹¤ì´ì–´íŠ¸ë¥¼ ì§€ì›í•©ë‹ˆë‹¤.",
                        emphasized: false
                    }
                ]
            }
        };
        
        function switchScreen(screenId) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(screenId).classList.add('active');
        }
        
        function startDietQuiz() {
            dietQuestionIndex = 0;
            dietAnswers = [];
            dietScores = {
                "ëŒ€ì‚¬ì €í•˜í˜•": 0,
                "ë¶€ì¢…ìˆœí™˜í˜•": 0,
                "ìŠ¤íŠ¸ë ˆìŠ¤í­ì‹í˜•": 0,
                "ê·¼ìœ¡ë¶€ì¡±í˜•": 0,
                "í˜¸ë¥´ëª¬ë¶ˆê· í˜•í˜•": 0
            };
            displayDietQuestion();
            switchScreen('screen-diet-quiz');
        }
        
        function displayDietQuestion() {
            if (dietQuestionIndex >= dietTypeQuestions.length) {
                showResult();
                return;
            }
            
            const question = dietTypeQuestions[dietQuestionIndex];
            const isMultiSelect = [1, 2, 3, 6].includes(dietQuestionIndex);
            const maxSelections = dietQuestionIndex === 6 ? 999 : 2;
            let selectedAnswers = [];
            
            document.getElementById('dietCount').textContent = 
                `ì§ˆë¬¸ ${dietQuestionIndex + 1} / ${dietTypeQuestions.length}` + (isMultiSelect ? ` (ìµœëŒ€ ${maxSelections}ê°œ ì„ íƒ ê°€ëŠ¥)` : '');
            document.getElementById('dietQuestion').textContent = question.question;
            
            const width = ((dietQuestionIndex + 1) / dietTypeQuestions.length) * 100;
            document.getElementById('dietProgress').style.width = width + '%';
            
            const container = document.getElementById('dietAnswers');
            container.innerHTML = '';
            
            question.answers.forEach((answer, index) => {
                const btn = document.createElement('button');
                btn.className = 'answer-btn';
                btn.textContent = answer.text;
                
                if (isMultiSelect) {
                    btn.style.cursor = 'pointer';
                    btn.onclick = () => {
                        const answerIndex = selectedAnswers.indexOf(index);
                        if (answerIndex > -1) {
                            selectedAnswers.splice(answerIndex, 1);
                            btn.classList.remove('selected');
                        } else if (selectedAnswers.length < maxSelections) {
                            selectedAnswers.push(index);
                            btn.classList.add('selected');
                        }
                    };
                } else {
                    btn.onclick = () => {
                        dietScores[answer.type]++;
                        dietQuestionIndex++;
                        setTimeout(() => displayDietQuestion(), 300);
                    };
                }
                container.appendChild(btn);
            });
            
            if (isMultiSelect) {
                const nextBtn = document.createElement('button');
                nextBtn.className = 'btn btn-secondary';
                nextBtn.textContent = 'ë‹¤ìŒ ì§ˆë¬¸';
                nextBtn.style.width = '100%';
                nextBtn.style.marginTop = '20px';
                nextBtn.style.opacity = '0.5';
                nextBtn.style.cursor = 'not-allowed';
                nextBtn.disabled = true;
                
                nextBtn.onclick = () => {
                    selectedAnswers.forEach(i => {
                        dietScores[question.answers[i].type]++;
                    });
                    dietQuestionIndex++;
                    setTimeout(() => displayDietQuestion(), 300);
                };
                
                const updateButton = () => {
                    if (selectedAnswers.length > 0) {
                        nextBtn.style.opacity = '1';
                        nextBtn.style.cursor = 'pointer';
                        nextBtn.disabled = false;
                    } else {
                        nextBtn.style.opacity = '0.5';
                        nextBtn.style.cursor = 'not-allowed';
                        nextBtn.disabled = true;
                    }
                };
                
                question.answers.forEach((answer, index) => {
                    const btn = container.children[index];
                    const originalOnclick = btn.onclick;
                    btn.onclick = () => {
                        originalOnclick();
                        updateButton();
                    };
                });
                
                container.parentNode.appendChild(nextBtn);
            }
        }
        
        function showResult() {
            // ì ìˆ˜ ê³„ì‚° ë° ë¹„ìœ¨ ê³„ì‚°
            const totalScore = Object.values(dietScores).reduce((a, b) => a + b, 0);
            const scorePercentages = {};
            for (let type in dietScores) {
                scorePercentages[type] = Math.round((dietScores[type] / totalScore) * 100);
            }
            
            // ê°€ì¥ ë†’ì€ ì ìˆ˜ íƒ€ì… ì°¾ê¸°
            let maxType = Object.keys(dietScores)[0];
            let maxScore = dietScores[maxType];
            for (let type in dietScores) {
                if (dietScores[type] > maxScore) {
                    maxType = type;
                    maxScore = dietScores[type];
                }
            }
            
            // ê²°ê³¼ í—¤ë”
            document.getElementById('resultType').textContent = maxType;
            
            // ì ìˆ˜ ë¶„ì„ í‘œì‹œ
            const scoreBreakdownHTML = Object.keys(scorePercentages)
                .sort((a, b) => scorePercentages[b] - scorePercentages[a])
                .slice(0, 3)
                .map(type => `
                    <div class="score-item">
                        <div class="label">${type}</div>
                        <div class="value">${scorePercentages[type]}%</div>
                    </div>
                `).join('');
            document.getElementById('scoreBreakdown').innerHTML = scoreBreakdownHTML;
            
            // ì²˜ë°© ì¹´ë“œ í‘œì‹œ
            const prescription = prescriptionContent[maxType];
            
            // ë©”ì¸ ì²˜ë°© í‘œì‹œ
            const prescriptionSection = document.querySelector('.prescription-section');
            const mainHTML = `
                <div class="prescription-main">
                    <h3>${prescription.mainTitle}</h3>
                    <p>${prescription.mainDesc}</p>
                </div>
            `;
            prescriptionSection.insertAdjacentHTML('afterbegin', mainHTML);
            
            const cardsHTML = prescription.cards.map(card => `
                <div class="prescription-card ${card.emphasized ? 'emphasized' : ''}">
                    <div class="prescription-icon">${card.icon}</div>
                    <h3>${card.title}</h3>
                    <p>${card.description}</p>
                </div>
            `).join('');
            document.getElementById('prescriptionCards').innerHTML = cardsHTML;
            
            switchScreen('screen-result');
        }
        
        function openAppointment() {
            alert('ìƒë‹´ ì˜ˆì•½ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤. (ë„¤ì´ë²„ ì˜ˆì•½ ë§í¬ ì—°ê²° ì˜ˆì •)');
            // window.location.href = 'https://naver.com'; // ì‹¤ì œ ë§í¬ ì¶”ê°€
        }
        
        function resetTest() {
            switchScreen('screen-start');
        }
    </script>
</body>
</html>
